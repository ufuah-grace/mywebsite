<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Order History</title>
    <link rel="stylesheet" href="style5.css" />
    <link rel="icon" href="mlogo.jpg">
    <style>
      /* --- Base Styles: Mobile (Smallest Screens) --- */
body {
  font-family: Arial, sans-serif;
  padding: 15px; /* Slightly reduced padding for more screen space */
  line-height: 1.6; /* Improves readability on small screens */
}

h1 {
  font-size: 28px; /* Scales down significantly for mobile */
  text-align: center;
  margin: 20px 0;
}

h2 {
  font-size: 22px;
  margin-bottom: 12px;
  text-align: center; /* Centered headers usually look better on narrow screens */
}

.history-box h4 {
  font-size: 18px;
  margin: 0 0 8px 0;
}

/* --- Tablet Styles (Screens 768px and up) --- */
@media (min-width: 768px) {
  body {
    padding: 30px;
  }

  h1 {
    font-size: 40px;
  }

  h2 {
    font-size: 26px;
    text-align: left; /* Switch to left-aligned for larger layouts */
  }
}

/* --- Desktop Styles (Screens 1024px and up) --- */
@media (min-width: 1024px) {
  body {
    padding: 40px;
    max-width: 1200px; /* Prevents text lines from getting too long/wide */
    margin: 0 auto;    /* Centers the layout container */
  }

  h1 {
    font-size: 50px; /* Your original large size */
  }
}
    </style>
  </head>
  <body>
    <h1>Order History</h1>
    <button
      id="clearHistoryBtn"
      style="
        margin-bottom: 20px;
        padding: 8px 12px;
        background: #ff4d4d;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      "
    >
      Clear History
    </button>
    <div id="historyItems"></div>

    <script>
      const historyItemsDiv = document.getElementById("historyItems");
      const history = JSON.parse(localStorage.getItem("orderHistory")) || [];

      if (history.length === 0) {
        historyItemsDiv.innerHTML = "<p>No orders yet.</p>";
      } else {
        history.forEach((order) => {
          let box = document.createElement("div");
          box.classList.add("history-box");
          box.innerHTML = `<h4>Order Date: ${order.date}</h4>`;

          order.items.forEach((item) => {
            box.innerHTML += `<p>${item.name} × ${item.quantity} — ₦${item.price}</p>`;
          });

          historyItemsDiv.appendChild(box);
        });
      }

      // extra js
      const clearBtn = document.getElementById("clearHistoryBtn");

      clearBtn.addEventListener("click", () => {
        if (confirm("Are you sure you want to delete all order history?")) {
          localStorage.removeItem("orderHistory");
          displayHistory();
          document.getElementById("historyList").innerHTML =
            "<p>No order history yet.</p>";
        }
      });

      displayHistory();
    </script>
  </body>
</html>
